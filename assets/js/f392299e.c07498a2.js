"use strict";(self.webpackChunk_guidepup_guidepup_dev=self.webpackChunk_guidepup_guidepup_dev||[]).push([[6],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},u=Object.keys(e);for(a=0;a<u.length;a++)n=u[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,u=e.originalType,p=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=l(n),m=r,g=d["".concat(p,".").concat(m)]||d[m]||c[m]||u;return n?a.createElement(g,o(o({ref:t},s),{},{components:n})):a.createElement(g,o({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var u=n.length,o=new Array(u);o[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var l=2;l<u;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(7294),r=n(6010),u="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(u,o),hidden:n},t)}},5488:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(3117),r=n(7294),u=n(6010),o=n(2389),i=n(7392),p=n(7094),l=n(2466),s="tabList__CuJ",c="tabItem_LNqP";function d(e){var t;const{lazy:n,block:o,defaultValue:d,values:m,groupId:g,className:f}=e,h=r.Children.map(e.children,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),v=m??h.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),b=(0,i.l)(v,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const y=null===d?d:d??(null==(t=h.find((e=>e.props.default)))?void 0:t.props.value)??h[0].props.value;if(null!==y&&!v.some((e=>e.value===y)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${y}" but none of its children has the corresponding value. Available values are: ${v.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:N}=(0,p.U)(),[w,O]=(0,r.useState)(y),T=[],{blockElementScrollPositionUntilNextRender:I}=(0,l.o5)();if(null!=g){const e=k[g];null!=e&&e!==w&&v.some((t=>t.value===e))&&O(e)}const E=e=>{const t=e.currentTarget,n=T.indexOf(t),a=v[n].value;a!==w&&(I(t),O(a),null!=g&&N(g,String(a)))},S=e=>{var t;let n=null;switch(e.key){case"Enter":E(e);break;case"ArrowRight":{const t=T.indexOf(e.currentTarget)+1;n=T[t]??T[0];break}case"ArrowLeft":{const t=T.indexOf(e.currentTarget)-1;n=T[t]??T[T.length-1];break}}null==(t=n)||t.focus()};return r.createElement("div",{className:(0,u.Z)("tabs-container",s)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":o},f)},v.map((e=>{let{value:t,label:n,attributes:o}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>T.push(e),onKeyDown:S,onClick:E},o,{className:(0,u.Z)("tabs__item",c,null==o?void 0:o.className,{"tabs__item--active":w===t})}),n??t)}))),n?(0,r.cloneElement)(h.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},h.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,o.Z)();return r.createElement(d,(0,a.Z)({key:String(t)},e))}},4611:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return c}});var a=n(3117),r=(n(7294),n(3905)),u=n(5488),o=n(5162);const i={title:"Environment Setup",description:"Environment setup guidance for automating screen readers for accessibility testing with Guidepup"},p=void 0,l={unversionedId:"guides/automated-environment-setup",id:"guides/automated-environment-setup",title:"Environment Setup",description:"Environment setup guidance for automating screen readers for accessibility testing with Guidepup",source:"@site/docs/guides/automated-environment-setup.md",sourceDirName:"guides",slug:"/guides/automated-environment-setup",permalink:"/docs/guides/automated-environment-setup",draft:!1,editUrl:"https://github.com/guidepup/guidepup.dev/tree/main/docs/guides/automated-environment-setup.md",tags:[],version:"current",frontMatter:{title:"Environment Setup",description:"Environment setup guidance for automating screen readers for accessibility testing with Guidepup"},sidebar:"docs",previous:{title:"Release Notes",permalink:"/docs/release"},next:{title:"Manual VoiceOver Setup",permalink:"/docs/guides/manual-voiceover-setup"}},s={},c=[{value:"Automated Setup",id:"automated-setup",level:2},{value:"Recording Setup (MacOS Only)",id:"recording-setup-macos-only",level:2},{value:"GitHub Action",id:"github-action",level:2},{value:"Issues",id:"issues",level:2}],d={toc:c};function m(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This guide applies to users of the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/guidepup/guidepup"},(0,r.kt)("inlineCode",{parentName:"a"},"@guidepup/guidepup"))," or ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/guidepup/guidepup-playwright"},(0,r.kt)("inlineCode",{parentName:"a"},"@guidepup/playwright"))," packages. OS environment setup is not required for users of the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/guidepup/virtual-screen-reader"},(0,r.kt)("inlineCode",{parentName:"a"},"@guidepup/virtual-screen-reader"))," package."),(0,r.kt)("h2",{id:"automated-setup"},"Automated Setup"),(0,r.kt)("p",null,"For some operating systems, enabling control of screen readers is tightly controlled."),(0,r.kt)("p",null,"To make environment setup easier ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/guidepup/setup"},(0,r.kt)("inlineCode",{parentName:"a"},"@guidepup/setup"))," was created to handle the setup of your OS for you. Run the setup with:"),(0,r.kt)(u.Z,{groupId:"env-flavor",defaultValue:"local",values:[{label:"Local",value:"local"},{label:"CI / CD",value:"ci"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"local",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx @guidepup/setup\n"))),(0,r.kt)(o.Z,{value:"ci",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx @guidepup/setup --ci\n")))),(0,r.kt)("p",null,"The CLI will first attempt to configure your environment itself, but on systems with tighter security controls such as MacOS with ",(0,r.kt)("a",{parentName:"p",href:"https://support.apple.com/en-gb/HT204899"},"System Integrity Protection (SIP)"),", it may prompt you for additional inputs such as username and password so that it can complete setup through UI automation."),(0,r.kt)("p",null,"If you are uncomfortable with providing credentials to this CLI you can manually achieve these steps by following the ",(0,r.kt)("a",{parentName:"p",href:"/docs/guides/manual-voiceover-setup"},"Manual VoiceOver Setup")," guide."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"\u26a0\ufe0f Warning")),(0,r.kt)("p",{parentName:"blockquote"},"You might be tempted to disable ",(0,r.kt)("a",{parentName:"p",href:"https://support.apple.com/en-gb/HT204899"},"System Integrity Protection (SIP)")," to streamline this process, but this comes with ",(0,r.kt)("strong",{parentName:"p"},"serious security implications")," so please first refer to the ",(0,r.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/security/disabling_and_enabling_system_integrity_protection"},"Apple documentation")," for more details before taking any action."),(0,r.kt)("p",{parentName:"blockquote"},"It is strongly advised that you use ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/guidepup/setup"},(0,r.kt)("inlineCode",{parentName:"a"},"@guidepup/setup"))," or the ",(0,r.kt)("a",{parentName:"p",href:"/docs/guides/manual-voiceover-setup"},"Manual VoiceOver Setup")," guide for local development in preference to changing SIP status.")),(0,r.kt)("h2",{id:"recording-setup-macos-only"},"Recording Setup (MacOS Only)"),(0,r.kt)("p",null,"If you are encountering errors in CI for MacOS you can pass a ",(0,r.kt)("inlineCode",{parentName:"p"},"--record")," flag to the command which will output a screen-recording of the setup to a ",(0,r.kt)("inlineCode",{parentName:"p"},"./recordings/")," folder within the current working directory."),(0,r.kt)(u.Z,{groupId:"env-flavor",defaultValue:"local",values:[{label:"Local",value:"local"},{label:"CI / CD",value:"ci"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"local",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx @guidepup/setup --record\n"))),(0,r.kt)(o.Z,{value:"ci",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npx @guidepup/setup --ci --record\n")))),(0,r.kt)("h2",{id:"github-action"},"GitHub Action"),(0,r.kt)("p",null,"Add this ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/marketplace/actions/guidepup-setup"},(0,r.kt)("inlineCode",{parentName:"a"},"guidepup/setup-action"))," step to enable screen reader test automation in GitHub CI:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"- name: Guidepup Setup\n  uses: guidepup/setup-action\n")),(0,r.kt)("h2",{id:"issues"},"Issues"),(0,r.kt)("p",null,"If you are encountering issues with ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/guidepup/setup"},(0,r.kt)("inlineCode",{parentName:"a"},"@guidepup/setup"))," then please reach out and raise a ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/guidepup/setup/issues"},"GitHub issue"),"."))}m.isMDXComponent=!0}}]);