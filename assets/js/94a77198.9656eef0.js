"use strict";(self.webpackChunk_guidepup_guidepup_dev=self.webpackChunk_guidepup_guidepup_dev||[]).push([[820],{3905:function(e,t,i){i.d(t,{Zo:function(){return s},kt:function(){return m}});var a=i(7294);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(null==e)return{};var i,a,o=function(e,t){if(null==e)return{};var i,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var p=a.createContext({}),c=function(e){var t=a.useContext(p),i=t;return e&&(i="function"==typeof e?e(t):r(r({},t),e)),i},s=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var i=e.components,o=e.mdxType,n=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(i),m=o,h=d["".concat(p,".").concat(m)]||d[m]||u[m]||n;return i?a.createElement(h,r(r({ref:t},s),{},{components:i})):a.createElement(h,r({ref:t},s))}));function m(e,t){var i=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=i.length,r=new Array(n);r[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,r[1]=l;for(var c=2;c<n;c++)r[c]=i[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,i)}d.displayName="MDXCreateElement"},5162:function(e,t,i){i.d(t,{Z:function(){return r}});var a=i(7294),o=i(6010),n="tabItem_Ymn6";function r(e){let{children:t,hidden:i,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(n,r),hidden:i},t)}},5488:function(e,t,i){i.d(t,{Z:function(){return m}});var a=i(3117),o=i(7294),n=i(6010),r=i(2389),l=i(7392),p=i(7094),c=i(2466),s="tabList__CuJ",u="tabItem_LNqP";function d(e){var t;const{lazy:i,block:r,defaultValue:d,values:m,groupId:h,className:b}=e,f=o.Children.map(e.children,(e=>{if((0,o.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),y=m??f.map((e=>{let{props:{value:t,label:i,attributes:a}}=e;return{value:t,label:i,attributes:a}})),v=(0,l.l)(y,((e,t)=>e.value===t.value));if(v.length>0)throw new Error(`Docusaurus error: Duplicate values "${v.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const g=null===d?d:d??(null==(t=f.find((e=>e.props.default)))?void 0:t.props.value)??f[0].props.value;if(null!==g&&!y.some((e=>e.value===g)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${g}" but none of its children has the corresponding value. Available values are: ${y.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:w}=(0,p.U)(),[N,S]=(0,o.useState)(g),O=[],{blockElementScrollPositionUntilNextRender:_}=(0,c.o5)();if(null!=h){const e=k[h];null!=e&&e!==N&&y.some((t=>t.value===e))&&S(e)}const A=e=>{const t=e.currentTarget,i=O.indexOf(t),a=y[i].value;a!==N&&(_(t),S(a),null!=h&&w(h,String(a)))},T=e=>{var t;let i=null;switch(e.key){case"Enter":A(e);break;case"ArrowRight":{const t=O.indexOf(e.currentTarget)+1;i=O[t]??O[0];break}case"ArrowLeft":{const t=O.indexOf(e.currentTarget)-1;i=O[t]??O[O.length-1];break}}null==(t=i)||t.focus()};return o.createElement("div",{className:(0,n.Z)("tabs-container",s)},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.Z)("tabs",{"tabs--block":r},b)},y.map((e=>{let{value:t,label:i,attributes:r}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>O.push(e),onKeyDown:T,onClick:A},r,{className:(0,n.Z)("tabs__item",u,null==r?void 0:r.className,{"tabs__item--active":N===t})}),i??t)}))),i?(0,o.cloneElement)(f.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):o.createElement("div",{className:"margin-top--md"},f.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function m(e){const t=(0,r.Z)();return o.createElement(d,(0,a.Z)({key:String(t)},e))}},2176:function(e,t,i){i.r(t),i.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var a=i(3117),o=(i(7294),i(3905)),n=i(5488),r=i(5162);const l={title:"Manual VoiceOver Setup"},p=void 0,c={unversionedId:"guides/manual-voiceover-setup",id:"guides/manual-voiceover-setup",title:"Manual VoiceOver Setup",description:"If @guidepup/setup cannot be used for your MacOS workflow, these guides instruct how to setup your MacOS environment manually for VoiceOver automation.",source:"@site/docs/guides/manual-voiceover-setup.md",sourceDirName:"guides",slug:"/guides/manual-voiceover-setup",permalink:"/docs/guides/manual-voiceover-setup",draft:!1,editUrl:"https://github.com/guidepup/guidepup.dev/tree/main/docs/guides/manual-voiceover-setup.md",tags:[],version:"current",frontMatter:{title:"Manual VoiceOver Setup"},sidebar:"docs",previous:{title:"Environment Setup",permalink:"/docs/guides/automated-environment-setup"}},s={},u=[{value:"Local Setup",id:"local-setup",level:2},{value:"Allow VoiceOver To Be Controlled",id:"allow-voiceover-to-be-controlled",level:3},{value:"Allow App Automation",id:"allow-app-automation",level:3},{value:"Additional System Permissions",id:"additional-system-permissions",level:3},{value:"CI Setup",id:"ci-setup",level:2},{value:"Allow VoiceOver To Be Controlled",id:"allow-voiceover-to-be-controlled-1",level:3},{value:"Allow App Automation",id:"allow-app-automation-1",level:3}],d={toc:u};function m(e){let{components:t,...l}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"If ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/guidepup/setup"},(0,o.kt)("inlineCode",{parentName:"a"},"@guidepup/setup"))," cannot be used for your MacOS workflow, these guides instruct how to setup your MacOS environment manually for VoiceOver automation."),(0,o.kt)("h2",{id:"local-setup"},"Local Setup"),(0,o.kt)("h3",{id:"allow-voiceover-to-be-controlled"},"Allow VoiceOver To Be Controlled"),(0,o.kt)("p",null,"This setup is required to allow VoiceOver to be controlled by Guidepup."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'Open the "VoiceOver Utility" application.'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"MacOS Spotlight search for &quot;VoiceOver Utility.app&quot;.",src:i(8241).Z,width:"792",height:"542"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'On the "General" tab, tick the checkbox "Allow VoiceOver to be controlled with AppleScript".'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"VoiceOver Utility General Tab highlighting the last form option: a ticked checkbox for &quot;Allow VoiceOver to be controlled with AppleScript&quot;.",src:i(9192).Z,width:"942",height:"632"})))),(0,o.kt)("h3",{id:"allow-app-automation"},"Allow App Automation"),(0,o.kt)("p",null,"This setup is required to allow applications, e.g. your terminal or IDE, to control other applications, i.e. VoiceOver:"),(0,o.kt)(n.Z,{groupId:"env-flavor",defaultValue:"12",values:[{label:"MacOS 12 - Monterey",value:"12"},{label:"MacOS 13 - Ventura",value:"13"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"12",mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'Open the "Security & Privacy" application within "System Preferences". Choose the "Privacy" tab.'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"System Preferences application with the Security &amp; Privacy icon button highlighted.",src:i(7074).Z,width:"780",height:"791"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'Select the "Accessibility" option and click on the padlock to unlock configuration. This will require you to enter an admin username and password.'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Security &amp; Privacy view of System Preferences with the Privacy tab open and the Accessibility option selected. The clickable padlock at the bottom of the application is highlighted.",src:i(4023).Z,width:"780",height:"699"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'In the "Allow the apps below to control your computer." section, use the plus "+" button to add any application that you will run a Guidepup script from - this will likely be your preferred terminal or IDE. Ensure you have also ticked the checkbox next to each application that you will run a Guidepup script from.'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Security &amp; Privacy view of System Preferences with the Privacy tab open and the Accessibility option selected. The &quot;Allow the apps below to control your computer.&quot; section is highlighted, with two applications listed: Terminal.app and Visual Studio Code.app, both with their checkboxes ticked.",src:i(3560).Z,width:"780",height:"699"}))))),(0,o.kt)(r.Z,{value:"13",mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'Open the "Privacy & Security" pane within "System Settings".'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"System Settings application with the Privacy &amp; Security side menu selected.",src:i(7630).Z,width:"1654",height:"1530"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'Select the "Accessibility" option.'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Privacy &amp; Security view of System Settings with the Accessibility tab open.",src:i(233).Z,width:"1654",height:"1530"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'In the "Allow the applications below to control your computer." section, use the plus "+" button to add any application that you will run a Guidepup script from - this will likely be your preferred terminal or IDE. This will prompt you for an administrator password. Ensure you have also ticked the checkbox next to each application that you will run a Guidepup script from.'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Privacy &amp; Security view of System Settings with the Accessibility tab open. The plus &quot;+&quot; button below the &quot;Allow the applications below to control your computer.&quot; section is highlighted.",src:i(3649).Z,width:"1654",height:"1530"})),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Privacy &amp; Security view of System Settings with the Accessibility tab open. The &quot;Allow the applications below to control your computer.&quot; section is highlighted, with two applications listed: Terminal.app and Visual Studio Code.app, both with their checkboxes ticked.",src:i(3640).Z,width:"1654",height:"1530"})))))),(0,o.kt)("h3",{id:"additional-system-permissions"},"Additional System Permissions"),(0,o.kt)("p",null,'Depending on how you use Guidepup you may require additional "Security & Privacy" updates with "System Preferences":'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},'"Location Services"'),(0,o.kt)("li",{parentName:"ul"},'"Microphone"'),(0,o.kt)("li",{parentName:"ul"},'"Screen Recording"'),(0,o.kt)("li",{parentName:"ul"},'"Bluetooth"'),(0,o.kt)("li",{parentName:"ul"},'"Automation"')),(0,o.kt)("p",null,'While using Guidepup if a system permission is required a dialog box will pop up automatically asking for the permission. Alternatively you can proactively set these permissions in the same way as the "Accessibility" settings were updated in the previous step.'),(0,o.kt)("h2",{id:"ci-setup"},"CI Setup"),(0,o.kt)("h3",{id:"allow-voiceover-to-be-controlled-1"},"Allow VoiceOver To Be Controlled"),(0,o.kt)("p",null,"For VoiceOver to be controlled by AppleScript the following needs to be run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Create VoiceOver database file specifying automation is enabled\nsudo bash -c 'echo -n \"a\" > /private/var/db/Accessibility/.VoiceOverAppleScriptEnabled'\n\n# Update system preference defaults specifying automation is enabled\ndefaults write com.apple.VoiceOver4/default SCREnableAppleScript -bool true\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Note:")," for the ",(0,o.kt)("inlineCode",{parentName:"p"},".VoiceOverAppleScriptEnabled"),' file to be created you must first disable "SIP". This can only be performed whilst in Recovery Mode. Please refer to the ',(0,o.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/security/disabling_and_enabling_system_integrity_protection"},"Apple documentation")," for more details.")),(0,o.kt)("h3",{id:"allow-app-automation-1"},"Allow App Automation"),(0,o.kt)("p",null,"In order for applications (e.g. a CI terminal) to control other applications (e.g. VoiceOver) using AppleScript, updates need to be made to the ",(0,o.kt)("inlineCode",{parentName:"p"},"TCC.db"),"."),(0,o.kt)("p",null,"Please refer to the following examples of how to update the ",(0,o.kt)("inlineCode",{parentName:"p"},"TCC.db")," for your desired application(s):"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/guidepup/setup/blob/main/src/macOS/updateTccDb.ts"},"@guidepup/setup")," - Guidepup ",(0,o.kt)("inlineCode",{parentName:"li"},"TCC.db")," setup"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/actions/virtual-environments/blob/main/images/macos/provision/configuration/configure-tccdb-macos11.sh"},"actions/virtual-environments")," - GitHub Actions ",(0,o.kt)("inlineCode",{parentName:"li"},"TCC.db")," setup"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/CircleCI-Public/macos-orb/blob/main/src/commands/add-uitest-permissions.yml"},"CircleCI-Public/macos-orb")," - CircleCI MacOS Orb ",(0,o.kt)("inlineCode",{parentName:"li"},"TCC.db")," setup")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Note:")," for system TCC.db updates you must first disable SIP. This can only be performed whilst in Recovery Mode. Please refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/security/disabling_and_enabling_system_integrity_protection"},"Apple documentation")," for more details.")))}m.isMDXComponent=!0},233:function(e,t,i){t.Z=i.p+"assets/images/privacy_and_security_accessibility-ff482c171a0efb3a91a427f85598e19e.png"},3649:function(e,t,i){t.Z=i.p+"assets/images/privacy_and_security_accessibility_add_highlighted-4905a586b7e74243a09e40419b0d6e6d.png"},3640:function(e,t,i){t.Z=i.p+"assets/images/privacy_and_security_accessibility_applications-d03fd9d0fdf09808d96bb87d4673b383.png"},3560:function(e,t,i){t.Z=i.p+"assets/images/security_and_privacy_accessibility_applications-98bade323c0deb47e9bc34cf4f1b499a.png"},4023:function(e,t,i){t.Z=i.p+"assets/images/security_and_privacy_accessibility_padlock-87300a2cd1bf244b7e65c6dbd78c4ee9.png"},7074:function(e,t,i){t.Z=i.p+"assets/images/system_preferences_security_and_privacy_highlight-d9bc34e3a478ac93605a90fda49033b5.png"},7630:function(e,t,i){t.Z=i.p+"assets/images/system_settings_privacy_and_security-bf29a4b11c0e948e355630ca18e78652.png"},9192:function(e,t,i){t.Z=i.p+"assets/images/voiceover_utility_checkbox-f6f69a35134ecff0fdb135e8d5c172ce.png"},8241:function(e,t,i){t.Z=i.p+"assets/images/voiceover_utility_spotlight-e190bd2b15e6b2e96752332c8820ef57.png"}}]);